/**
 * @license Highcharts JS v6.1.1-modified (2018-07-06)
 *
 * (c) 2009-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */
"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,i,a,s,o,n,r,l,h,p,d,c,u,g,f,b,m;!function(t){var e=t.CenteredSeriesMixin,i=t.each,a=t.extend,s=t.merge,o=t.splat;function n(t,e){this.init(t,e)}a(n.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=t=s(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t,e,i=this.options,a=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:i.zIndex||0}).add()),this.updateCenter(),a)for(a=o(a),t=Math.max(a.length,this.background.length||0),e=0;e<t;e++)a[e]&&this.axis?this.renderBackground(s(this.defaultBackgroundOptions,a[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))},renderBackground:function(t,e){var i="animate";this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr({fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,class:"highcharts-pane "+(t.className||"")})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=e.getCenter.call(this)},update:function(t,e){s(!0,this.options,t),this.setOptions(this.options),this.render(),i(this.chart.axes,function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),t.Pane=n}(t),s=(e=t).addEvent,o=e.Axis,n=e.each,r=e.extend,l=e.map,h=e.merge,p=e.noop,d=e.pick,c=e.pInt,u=e.Tick,g=e.wrap,f=e.correctFloat,b=o.prototype,m=u.prototype,e.radialAxisExtended||(e.radialAxisExtended=!0,i={getOffset:p,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:p,setCategories:p,setTitle:p},a={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var i=this.options=h(this.defaultOptions,this.defaultRadialOptions,t);i.plotBands||(i.plotBands=[]),e.fireEvent(this,"afterSetOptions")},getOffset:function(){b.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){var i,a,s=this.center,o=this.chart,n=d(e,s[2]/2-this.offset);return this.isCircular||void 0!==e?((a=this.chart.renderer.symbols.arc(this.left+s[0],this.top+s[1],n,n,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+s[0]],a.yBounds=[this.top+s[1]-n]):(i=this.postTranslate(this.angleRad,n),a=["M",s[0]+o.plotLeft,s[1]+o.plotTop,"L",i.x,i.y]),a},setAxisTranslation:function(){b.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect=this.isCircular&&void 0===d(this.userMax,this.options.max)&&f(this.endAngleRad-this.startAngleRad)===f(2*Math.PI),this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){b.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*d(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,d(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,a=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+a[0]+Math.cos(t)*e,y:i.plotTop+a[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var a,s,o,n,r=this.center,h=this.startAngleRad,p=r[2]/2,u=[d(i.outerRadius,"100%"),i.innerRadius,d(i.thickness,10)],g=Math.min(this.offset,0),f=/%$/,b=this.isCircular;return"polygon"===this.options.gridLineInterpolation?n=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),b||(u[0]=this.translate(t),u[1]=this.translate(e)),u=l(u,function(t){return f.test(t)&&(t=c(t,10)*p/100),t}),"circle"!==i.shape&&b?(a=h+this.translate(t),s=h+this.translate(e)):(a=-Math.PI/2,s=1.5*Math.PI,o=!0),u[0]-=g,u[2]-=g,n=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],u[0],u[0],{start:Math.min(a,s),end:Math.max(a,s),innerR:d(u[1],u[0]-u[2]),open:o})),n},getPlotLinePath:function(t,e){var i,a,s,o,r=this,l=r.center,h=r.chart,p=r.getPosition(t);return r.isCircular?o=["M",l[0]+h.plotLeft,l[1]+h.plotTop,"L",p.x,p.y]:"circle"===r.options.gridLineInterpolation?(t=r.translate(t))&&(o=r.getLinePath(0,t)):(n(h.xAxis,function(t){t.pane===r.pane&&(i=t)}),o=[],t=r.translate(t),s=i.tickPositions,i.autoConnect&&(s=s.concat([s[0]])),e&&(s=[].concat(s).reverse()),n(s,function(e,s){a=i.getPosition(e,t),o.push(s?"L":"M",a.x,a.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}},s(o,"init",function(t){var e,s=this.chart,o=s.angular,n=s.polar,l=this.isXAxis,p=o&&l,d=s.options,c=t.userOptions.pane||0,u=this.pane=s.pane&&s.pane[c];o?(r(this,p?i:a),(e=!l)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):n&&(r(this,a),e=l,this.defaultRadialOptions=l?this.defaultRadialXOptions:h(this.defaultYAxisOptions,this.defaultRadialYOptions)),o||n?(this.isRadial=!0,s.inverted=!1,d.chart.zoomType=null):this.isRadial=!1,u&&e&&(u.axis=this),this.isCircular=e}),s(o,"afterInit",function(){var t=this.chart,e=this.options,i=t.angular&&this.isXAxis,a=this.pane,s=a&&a.options;!i&&a&&(t.angular||t.polar)&&(this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(s.startAngle-90)*Math.PI/180,this.endAngleRad=(d(s.endAngle,s.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0)}),g(b,"autoLabelAlign",function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))}),s(u,"afterGetPosition",function(t){this.axis.getPosition&&r(t.pos,this.axis.getPosition(this.pos))}),s(u,"afterGetLabelPosition",function(t){var e,i=this.axis,a=this.label,s=i.options.labels,o=s.y,n=20,r=s.align,l=(i.translate(this.pos)+i.startAngleRad+Math.PI/2)/Math.PI*180%360;i.isRadial&&(e=i.getPosition(this.pos,i.center[2]/2+d(s.distance,-25)),"auto"===s.rotation?a.attr({rotation:l}):null===o&&(o=i.chart.renderer.fontMetrics(a.styles&&a.styles.fontSize).b-a.getBBox().height/2),null===r&&(i.isCircular?(this.label.getBBox().width>i.len*i.tickInterval/(i.max-i.min)&&(n=0),r=l>n&&l<180-n?"left":l>180+n&&l<360-n?"right":"center"):r="center",a.attr({align:r})),t.pos.x=e.x+s.x,t.pos.y=e.y+o)}),g(m,"getMarkPath",function(t,e,i,a,s,o,n){var r,l=this.axis;return l.isRadial?["M",e,i,"L",(r=l.getPosition(this.pos,l.center[2]/2+a)).x,r.y]:t.call(this,e,i,a,s,o,n)})),function(t){var e=t.each,i=t.noop,a=t.pick,s=t.defined,o=t.Series,n=t.seriesType,r=t.seriesTypes,l=o.prototype,h=t.Point.prototype;n("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,i=t.yAxis,a=!!t.modifyValue;r.area.prototype.translate.apply(t),e(t.points,function(e){var s=e.low,o=e.high,n=e.plotY;null===o||null===s?(e.isNull=!0,e.plotY=null):(e.plotLow=n,e.plotHigh=i.translate(a?t.modifyValue(o,e):o,0,1,0,1),a&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]})},getGraphPath:function(t){var e,i,s,o,n,l,h,p=[],d=[],c=r.area.prototype.getGraphPath,u=this.options,g=this.chart.polar&&!1!==u.connectEnds,f=u.connectNulls,b=u.step;for(e=(t=t||this.points).length,e=t.length;e--;)(i=t[e]).isNull||g||f||t[e+1]&&!t[e+1].isNull||d.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1}),s={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:a(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},d.push(s),p.push(s),i.isNull||g||f||t[e-1]&&!t[e-1].isNull||d.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1});return n=c.call(this,t),b&&(!0===b&&(b="left"),u.step={left:"right",center:"center",right:"left"}[b]),l=c.call(this,p),h=c.call(this,d),u.step=b,o=[].concat(n,l),this.chart.polar||"M"!==h[0]||(h[0]="L"),this.graphPath=o,this.areaPath=n.concat(h),o.isArea=!0,o.xMap=n.xMap,this.areaPath.xMap=n.xMap,o},drawDataLabels:function(){var t,e,i,a=this.data,s=a.length,o=[],n=this.options.dataLabels,r=n.align,h=n.verticalAlign,p=n.inside,d=this.chart.inverted;if(n.enabled||this._hasPointLabels){for(t=s;t--;)(e=a[t])&&(i=p?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,d?r||(n.align=i?"right":"left"):h||(n.verticalAlign=i?"top":"bottom"),n.x=n.xHigh,n.y=n.yHigh);for(l.drawDataLabels&&l.drawDataLabels.apply(this,arguments),t=s;t--;)(e=a[t])&&(i=p?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,d?r||(n.align=i?"left":"right"):h||(n.verticalAlign=i?"bottom":"top"),n.x=n.xLow,n.y=n.yLow);l.drawDataLabels&&l.drawDataLabels.apply(this,arguments)}n.align=r,n.verticalAlign=h},alignDataLabel:function(){r.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var e,i,a=this.points.length;for(l.drawPoints.apply(this,arguments),i=0;i<a;)(e=this.points[i]).origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},e.lowerGraphic=e.graphic,e.graphic=e.upperGraphic,e.plotY=e.plotHigh,s(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=e.high,e.negative=e.high<(this.options.threshold||0),e.zone=this.zones.length&&e.getZone(),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&e.plotY>=0&&e.plotY<=this.yAxis.len&&e.plotX>=0&&e.plotX<=this.xAxis.len),i++;for(l.drawPoints.apply(this,arguments),i=0;i<a;)(e=this.points[i]).upperGraphic=e.graphic,e.graphic=e.lowerGraphic,t.extend(e,e.origProps),delete e.origProps,i++},setStackedPoints:i},{setState:function(){var t=this.state,e=this.series,i=e.chart.polar;s(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,i&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,i&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(h.haloPath.apply(this,arguments))),e},destroyElements:function(){return e(["lowerGraphic","upperGraphic"],function(t){this[t]&&(this[t]=this[t].destroy())},this),this.graphic=null,h.destroyElements.apply(this,arguments)}})}(t),function(t){(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}(t),function(t){var e=t.defaultPlotOptions,i=t.each,a=t.merge,s=t.noop,o=t.pick,n=t.seriesType,r=t.seriesTypes.column.prototype;n("columnrange","arearange",a(e.column,e.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,a=this,s=a.yAxis,n=a.xAxis,l=n.startAngleRad,h=a.chart,p=a.xAxis.isRadial,d=Math.max(h.chartWidth,h.chartHeight)+999;function c(t){return Math.min(Math.max(-d,t),d)}r.translate.apply(a),i(a.points,function(i){var r,d,u,g=i.shapeArgs,f=a.options.minPointLength;i.plotHigh=e=c(s.translate(i.high,0,1,0,1)),i.plotLow=c(i.plotY),u=e,d=o(i.rectPlotY,i.plotY)-e,Math.abs(d)<f?(d+=r=f-d,u-=r/2):d<0&&(u-=d*=-1),p?(t=i.barX+l,i.shapeType="path",i.shapeArgs={d:a.polarArc(u+d,u,t,t+i.pointWidth)}):(g.height=d,g.y=u,i.tooltipPos=h.inverted?[s.len+s.pos-h.plotLeft-u-d/2,n.len+n.pos-h.plotTop-g.x-g.width/2,d]:[n.left-h.plotLeft+g.x+g.width/2,s.pos-h.plotTop+u+d/2,d])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:s,getSymbol:s,crispCol:r.crispCol,drawPoints:r.drawPoints,drawTracker:r.drawTracker,getColumnMetrics:r.getColumnMetrics,pointAttribs:r.pointAttribs,animate:function(){return r.animate.apply(this,arguments)},polarArc:function(){return r.polarArc.apply(this,arguments)},translate3dPoints:function(){return r.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return r.translate3dShapes.apply(this,arguments)}},{setState:r.pointClass.prototype.setState})}(t),function(t){var e=t.each,i=t.isNumber,a=t.merge,s=t.noop,o=t.pick,n=t.pInt,r=t.Series,l=t.seriesType,h=t.TrackerMixin;l("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:s,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,s=this.options,r=t.center;this.generatePoints(),e(this.points,function(e){var l=a(s.dial,e.dial),h=n(o(l.radius,80))*r[2]/200,p=n(o(l.baseLength,70))*h/100,d=n(o(l.rearLength,10))*h/100,c=l.baseWidth||3,u=l.topWidth||1,g=s.overshoot,f=t.startAngleRad+t.translate(e.y,null,null,null,!0);i(g)?(g=g/180*Math.PI,f=Math.max(t.startAngleRad-g,Math.min(t.endAngleRad+g,f))):!1===s.wrap&&(f=Math.max(t.startAngleRad,Math.min(t.endAngleRad,f))),f=180*f/Math.PI,e.shapeType="path",e.shapeArgs={d:l.path||["M",-d,-c/2,"L",p,-c/2,h,-u/2,h,u/2,p,c/2,-d,c/2,"z"],translateX:r[0],translateY:r[1],rotation:f},e.plotX=r[0],e.plotY=r[1]})},drawPoints:function(){var t=this,i=t.yAxis.center,s=t.pivot,n=t.options,r=n.pivot,l=t.chart.renderer;e(t.points,function(e){var i=e.graphic,s=e.shapeArgs,o=s.d,r=a(n.dial,e.dial);i?(i.animate(s),s.d=o):(e.graphic=l[e.shapeType](s).attr({rotation:s.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:r.backgroundColor||"#000000"}))}),s?s.animate({translateX:i[0],translateY:i[1]}):(t.pivot=l.circle(0,0,o(r.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),t.pivot.attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"#cccccc",fill:r.backgroundColor||"#000000"}))},animate:function(t){var i=this;t||(e(i.points,function(t){var e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))}),i.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),r.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){r.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),o(e,!0)&&this.chart.redraw()},drawTracker:h&&h.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){var e=t.each,i=t.noop,a=t.pick,s=t.seriesType,o=t.seriesTypes;s("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(){return{}},drawDataLabels:i,translate:function(){var t=this.yAxis,i=this.pointArrayMap;o.column.prototype.translate.apply(this),e(this.points,function(a){e(i,function(e){null!==a[e]&&(a[e+"Plot"]=t.translate(a[e],0,1,0,1))})})},drawPoints:function(){var t,i,s,o,n,r,l,h,p,d,c,u=this,g=u.points,f=u.options,b=u.chart.renderer,m=0,y=!1!==u.doQuartiles,x=u.options.whiskerLength;e(g,function(e){var g=e.graphic,v=g?"animate":"attr",M=e.shapeArgs,P={},L={},w={},A={},k=e.color||u.color;void 0!==e.plotY&&(l=M.width,h=Math.floor(M.x),p=h+l,d=Math.round(l/2),t=Math.floor(y?e.q1Plot:e.lowPlot),i=Math.floor(y?e.q3Plot:e.lowPlot),s=Math.floor(e.highPlot),o=Math.floor(e.lowPlot),g||(e.graphic=g=b.g("point").add(u.group),e.stem=b.path().addClass("highcharts-boxplot-stem").add(g),x&&(e.whiskers=b.path().addClass("highcharts-boxplot-whisker").add(g)),y&&(e.box=b.path(void 0).addClass("highcharts-boxplot-box").add(g)),e.medianShape=b.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.stroke=e.stemColor||f.stemColor||k,L["stroke-width"]=a(e.stemWidth,f.stemWidth,f.lineWidth),L.dashstyle=e.stemDashStyle||f.stemDashStyle,e.stem.attr(L),x&&(w.stroke=e.whiskerColor||f.whiskerColor||k,w["stroke-width"]=a(e.whiskerWidth,f.whiskerWidth,f.lineWidth),e.whiskers.attr(w)),y&&(P.fill=e.fillColor||f.fillColor||k,P.stroke=f.lineColor||k,P["stroke-width"]=f.lineWidth||0,e.box.attr(P)),A.stroke=e.medianColor||f.medianColor||k,A["stroke-width"]=a(e.medianWidth,f.medianWidth,f.lineWidth),e.medianShape.attr(A),r=e.stem.strokeWidth()%2/2,m=h+d+r,e.stem[v]({d:["M",m,i,"L",m,s,"M",m,t,"L",m,o]}),y&&(r=e.box.strokeWidth()%2/2,t=Math.floor(t)+r,i=Math.floor(i)+r,h+=r,p+=r,e.box[v]({d:["M",h,i,"L",h,t,"L",p,t,"L",p,i,"L",h,i,"z"]})),x&&(r=e.whiskers.strokeWidth()%2/2,s+=r,o+=r,c=/%$/.test(x)?d*parseFloat(x)/100:x/2,e.whiskers[v]({d:["M",m-c,s,"L",m+c,s,"M",m-c,o,"L",m+c,o]})),n=Math.round(e.medianPlot),r=e.medianShape.strokeWidth()%2/2,n+=r,e.medianShape[v]({d:["M",h,n,"L",p,n]}))})},setStackedPoints:i})}(t),function(t){var e=t.each,i=t.noop,a=t.seriesType,s=t.seriesTypes;a("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:s.arearange?function(){var t=this.pointValKey;s.arearange.prototype.drawDataLabels.call(this),e(this.data,function(e){e.y=e[t]})}:i,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||s.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){var e=t.correctFloat,i=t.isNumber,a=t.pick,s=t.Point,o=t.Series,n=t.seriesType,r=t.seriesTypes;n("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",showLine:!0,generatePoints:function(){var t,i,a,s,o=this.options.threshold;for(r.column.prototype.generatePoints.apply(this),a=0,i=this.points.length;a<i;a++)t=this.points[a],s=this.processedYData[a],t.isSum?t.y=e(s):t.isIntermediateSum&&(t.y=e(s-o),o=s)},translate:function(){var t,e,i,s,o,n,l,h,p,d,c,u,g,f=this.options,b=this.yAxis,m=a(f.minPointLength,5),y=m/2,x=f.threshold,v=f.stacking;for(r.column.prototype.translate.apply(this),p=d=x,e=0,t=(i=this.points).length;e<t;e++)s=i[e],h=this.processedYData[e],o=s.shapeArgs,n=v&&b.stacks[(this.negStacks&&h<x?"-":"")+this.stackKey],u=this.getStackIndicator(u,s.x,this.index),c=a(n&&n[s.x].points[u.key],[0,h]),l=Math.max(p,p+s.y)+c[0],o.y=b.translate(l,0,1,0,1),s.isSum?(o.y=b.translate(c[1],0,1,0,1),o.height=Math.min(b.translate(c[0],0,1,0,1),b.len)-o.y):s.isIntermediateSum?(o.y=b.translate(c[1],0,1,0,1),o.height=Math.min(b.translate(d,0,1,0,1),b.len)-o.y,d=c[1]):(o.height=h>0?b.translate(p,0,1,0,1)-o.y:b.translate(p,0,1,0,1)-b.translate(p-h,0,1,0,1),p+=n&&n[s.x]?n[s.x].total:h),o.height<0&&(o.y+=o.height,o.height*=-1),s.plotY=o.y=Math.round(o.y)-this.borderWidth%2/2,o.height=Math.max(Math.round(o.height),.001),s.yBottom=o.y+o.height,o.height<=m&&!s.isNull?(o.height=m,o.y-=y,s.plotY=o.y,s.y<0?s.minPointLengthOffset=-y:s.minPointLengthOffset=y):s.minPointLengthOffset=0,g=s.plotY+(s.negative?o.height:0),this.chart.inverted?s.tooltipPos[0]=b.len-g:s.tooltipPos[1]=g},processData:function(t){var i,a,s,n,r,l,h,p=this.options,d=this.yData,c=this.options.data,u=d.length;for(s=a=n=r=p.threshold||0,h=0;h<u;h++)l=d[h],i=c&&c[h]?c[h]:{},"sum"===l||i.isSum?d[h]=e(s):"intermediateSum"===l||i.isIntermediateSum?d[h]=e(a):(s+=l,a+=l),n=Math.min(s,n),r=Math.max(s,r);o.prototype.processData.call(this,t),this.options.stacking||(this.dataMin=n,this.dataMax=r)},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var i,a=this.options.upColor;return a&&!t.options.color&&(t.color=t.y>0?a:null),delete(i=r.column.prototype.pointAttribs.call(this,t,e)).dashstyle,i},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,i,a,s=this.data,o=s.length,n=this.graph.strokeWidth()+this.borderWidth,r=Math.round(n)%2/2,l=this.xAxis.reversed,h=this.yAxis.reversed,p=[];for(i=1;i<o;i++)e=s[i].shapeArgs,a=["M",(t=s[i-1].shapeArgs).x+(l?0:t.width),t.y+s[i-1].minPointLengthOffset+r,"L",e.x+(l?t.width:0),t.y+s[i-1].minPointLengthOffset+r],(s[i-1].y<0&&!h||s[i-1].y>0&&h)&&(a[2]+=t.height,a[5]+=t.height),p=p.concat(a);return p},drawGraph:function(){o.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,e,i=this.options;for(o.prototype.setStackedPoints.apply(this,arguments),t=this.stackedYData?this.stackedYData.length:0,e=1;e<t;e++)i.data[e].isSum||i.data[e].isIntermediateSum||(this.stackedYData[e]+=this.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return o.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var t=s.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return i(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){var e=t.LegendSymbolMixin,i=t.noop,a=t.Series,s=t.seriesType,o=t.seriesTypes;s("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=a.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e])&&e>0&&t.splice(e,0,"z");return this.areaPath=t,t},drawGraph:function(){this.options.fillColor=this.color,o.area.prototype.drawGraph.call(this)},drawLegendSymbol:e.drawRectangle,drawTracker:a.prototype.drawTracker,setStackedPoints:i})}(t),function(t){var e=t.addEvent,i=t.each,a=t.objectEach,s=t.merge,o=(t.extend,t.noop),n=t.pick,r=t.stableSort;t.BubbleLegend=function(t,e){this.init(t,e)},t.BubbleLegend.prototype={defaultOptions:{position:"first",enabled:!1,color:"#8bbc21",borderColor:"#2f7ed8",borderWidth:1,connectorDistance:80,connectorWidth:1,className:void 0,connectorClassName:void 0,sizeBy:"area",zIndex:1,zThreshold:0,sizeByAbsoluteValue:!0,labels:{className:void 0,allowOverlap:!1,align:"right",style:{fontSize:10,color:"#000000"},x:1,y:0},size:void 0,ranges:void 0,baseSeries:void 0},init:function(t,e){this.options=s(!1,this.defaultOptions,t),this.chart=e.chart,this.setState=o,this.drawLegendSymbol=this.drawLegendSymbol},addToLegend:function(t,e,a){var s,o=this.options,n=o.position,r=this.chart.get(o.baseSeries);this.baseSeries=!!r&&(!!(r.isBubble&&r.options.data.length>0)&&r),this.index=a,"last"===n?e.push(this):"first"!==n&&r&&r.data?(i(e,function(t,e){t===r&&(s=e)}),e.splice(s+("beforeSeries"===n?0:1),0,this)):e.unshift(this)},drawLegendSymbol:function(t){this.chart;var e,i,a,s=this.options,o=s.size,l=n(t.options.itemDistance,20),h=this.getRanges(),p=s.connectorDistance;if(!h)return!1;r(h,function(t,e){return Math.abs(e.value)-Math.abs(t.value)}),o||(o=h[0].value,this.autoSize=!0),i=o/2,this.size=o,this.legend=t,this.radius=i,this.ranges=h,this.setOptions(),this.render(),e=(e=p-i+(a=this.getMaxLabelSize()).width)>0?e:0,this.maxLabel=a,this.movementX="left"===s.labels.align?e:0,this.legendItemWidth=o+e+l,this.legendItemHeight=o+a.height/2},setOptions:function(){var t,e=this,o=(e.chart,e.ranges),r=e.legend,l=e.options,h=r.baseline,p="left"===l.labels.align,d=(e.options.zThreshold,Math.abs(e.radius)),c=r.options.rtl,u={},g={"z-index":l.zIndex,"stroke-width":l.borderWidth},f={"stroke-width":l.connectorWidth,"z-index":l.zIndex};a(l.labels.style,function(t,e){"color"!==e&&"fontSize"!==e&&"z-index"!==e&&(u[e]=t)}),t=s(!1,u,{"font-size":l.labels.style.fontSize,fill:l.labels.style.color,"z-index":l.zIndex,align:c||p?"right":"left"}),i(o,function(i,a){g.stroke=n(i.borderColor,l.borderColor),g.fill=n(i.color,l.color),f.stroke=n(i.borderColor,l.borderColor),o[a].radius=e.getRangeRadius(i),o[a].elementCenter=d-o[a].radius+h,o[a].bubbleStyle=g,o[a].connectorStyle=f,o[a].labelStyle=t,o[a].bubbleLegend=e})},getRangeRadius:function(t){var e,i,a,s=this.options,o=Math.abs(this.radius),n=this.ranges[0],r="area"===s.sizeBy,l=s.zThreshold;return r?(i=Math.sqrt((t.value-l)/Math.PI),a=Math.sqrt((n.value-l)/Math.PI),e=Math.round(i*o/a)):e=t.value*o/ranges[0].value,e},render:function(){var t=this,e=t.chart.renderer,a=t.options.zThreshold;t.symbols||(t.symbols={connectors:[],bubbleItems:[],labels:[]}),t.legendSymbol=e.g("bubble-scale-legend-"+t.index),t.legendSymbol.translateX=0,t.legendSymbol.translateY=0,i(t.ranges,function(e){e.value>a&&t.renderRange(e)}),t.legendSymbol.add(t.legendGroup)},renderRange:function(t){var e,i=this.legend,a=this.options,s=a.labels,o=this.chart.renderer,n=this.symbols,r=n.labels,l=t.elementCenter,h=Math.abs(t.radius),p=a.connectorDistance,d="left"===s.align,c=i.options.rtl,u=s.style.fontSize,g=c||d?-p:p,f=a.borderWidth,b=a.connectorWidth,m=this.radius,y=l-h+Math.floor(b/2),x=y+a.labels.y,v=m+g+a.labels.x,M=o.fontMetrics(u.toString()+"px"),P=u/2-(M.h-M.f)/2;n.bubbleItems.push(o.circle(m,l,h-f/2).attr(t.bubbleStyle).addClass("highcharts-bubble-scale-connectors "+(a.className||"")).add(this.legendSymbol)),n.connectors.push(o.path(o.crispLine(["M",m,y,"L",m+g,y],a.connectorWidth)).attr(t.connectorStyle).addClass("highcharts-bubble-scale-connectors "+(a.connectorClassName||"")).add(this.legendSymbol)),r.push(o.text(this.formatLabel(t),v,x+P).attr(t.labelStyle).addClass("highcharts-bubble-scale-labels "+(a.labels.className||"")).add(this.legendSymbol)),(e={}).x=v,e.y=e.orgY=x+P,n.connectors[r.length-1].y=y,r[r.length-1].alignAttr=e,r[r.length-1].placed=!0},getMaxLabelSize:function(){var t,e,a=this.symbols.labels;return i(a,function(i){e=i.getBBox(!0),t=t?e.width>t.width?e:t:e}),t},formatLabel:function(e){var i=this.options,a=i.labels.formatter,s=i.labels.format;return s?t.format(s,e):a?a.call(e):Math.round(e.value)},getRanges:function(){var t,e,a,s=this,o=s.chart,n=s.baseSeries||o.series[0],r=n.yData.length>0,l=s.options.ranges;return!l&&n&&n.isBubble&&r?(s.baseSeriesIndex=n.index,s.autoCalculatedRanges=!0,t=n.options,a=[t.minSize,t.maxSize],i(a,function(t,i){/%$/.test(t)&&(o.getMargins(),e=o.plotHeight,a[i]=parseFloat(t)/100*e,s.percentageBubbleSize=!0)}),l=1===t.data.length?[{value:a[1]}]:[{value:a[1]},{value:(a[0]+a[1])/2},{value:a[0]}]):l},hideOverlappingLabels:function(){var t=this.chart,e=this.options.labels.allowOverlap,a=this.symbols;!e&&a&&(t.hideOverlappingLabels(a.labels),i(a.labels,function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&a.connectors[e].show():a.connectors[e].hide()}))},getCorrectedRadiuses:function(t){var e,a,s,o,n,r=this.ranges,l=t.points[0].graphic["stroke-width"],h=Math.floor(l/2);return e=a=t.points[0].marker.radius,i(t.points,function(t){o=t.marker.radius,e=Math.min(e,o),a=Math.max(a,o)}),s=((a+=h)+(e+=h))/2,n=r[0].radius,[a,s,e,n]},correctValues:function(t,e){var a,s,o,n,r,l=this.ranges,h="area"===this.options.sizeBy;(a=t.zData.slice()).sort(function(t,e){return t-e}),o=a[0],n=a[a.length-1],r=h?n*(Math.pow(e[1],2)*Math.PI)/(Math.pow(e[0],2)*Math.PI):(n+o)/2,s=[n,Math.round(r),o],i(l,function(t,e){l[e].value=s[e]})},correctSizes:function(t){var e,i,a,s,o,r,l=n(this.legend.options.itemDistance,20),h=this.options,p=this.symbols,d="left"===this.options.labels.align,c=t[0],u=this.autoSize?c:this.size/2,g=t[t.length-1],f=h.borderWidth,b=h.connectorWidth,m=this.legend.options.rtl,y=Math.floor(this.ranges[0].elementCenter),x=h.connectorDistance,v=p.labels,M=h.labels.style.fontSize;for(e=0;e<p.bubbleItems.length;e++)a=p.connectors[e].y,r=u-2*(i=Math.floor(t[e]*u/c))-a+y+Math.floor(b/2),p.bubbleItems[e].attr({r:i-Math.floor(f/2),y:u-i,translateY:y}),p.connectors[e].attr({translateY:Math.floor(r)}),v[e].attr({translateY:r,text:this.formatLabel(this.ranges[e])}),v[e].alignAttr.y=v[e].alignAttr.orgY+r,v[e].height=M,v[e].isOld=!1;o=(o=x-u+(s=this.getMaxLabelSize()).width)>0?o:0,this.movementX=d?o:0,this.sizeMovement=m?g-u:-(g-u),this.legendItemWidth=2*u+l+o,this.legendItemHeight=2*u+s.height/2},destroy:function(){var t=this.legend,e=this.index;t.bubbleLegends.splice(e,1),t.options.bubbleLegends.splice(e,1),t.destroyItem(this),t.render()}},e(t.Legend,"afterGetAllItems",function(e){var a,o,n,r=this,l=r.options,h=r.bubbleLegends||null,p=r.chart.userOptions.legend.bubbleLegends,d=[];if(h)for(o=l.bubbleLegends,a=Math.max(o.length,h.length),n=0;n<a;n++)h[n]=h[n]||{},d[n]=s(!1,h[n].options,o[n]);else h=[],i(p,function(t,e){d[e]=t});l.enabled&&d&&i(d,function(i,a){h[a]&&h[a].ranges||(r.bubbleLegends=h,h[a]=new t.BubbleLegend(i,r)),h[a].options.enabled&&h[a].addToLegend(r,e.allItems,a)})}),e(t.Legend,"afterRender",function(t){for(var e,a,s,o,n,r=this,l=r.allItems,h=r.options.rtl,p=0,d=0,c=l.length,u=[],g=0;p<c;p++)if(l[p].legendItemHeight&&(l[p].itemHeight=l[p].legendItemHeight),l[p]===l[c-1]||l[p+1]&&l[p].legendGroup.translateY!==l[p+1].legendGroup.translateY){for(u.push({height:0}),n=u[u.length-1];d<=p;d++)l[d].itemHeight>n.height&&(n.height=l[d].itemHeight);n.step=p}i(l,function(t,i){e=t.legendGroup.translateX,a=t.legendGroup.translateY,s=t.movementX,o=t.sizeMovement,(s||h&&t.ranges||o)&&(o=o||0,s=h?e-t.size+r.symbolWidth+o:e+s+o,t.legendGroup.attr({translateX:s})),i>u[g].step&&g++,t.legendGroup.attr({translateY:Math.round(a+u[g].height/2)})})}),e(t.Series,"afterRender",function(t){var e,a=this,s=a.chart.legend.bubbleLegends;s&&i(s,function(t){t.autoCalculatedRanges&&t.baseSeriesIndex===a.index&&(a.bubbleLegend=t,e=t.getCorrectedRadiuses(a),t.correctValues(a,e),t.correctSizes(e))})}),e(t.Legend,"afterDestroy",function(t){var e,a=this;i(this.bubbleLegends,function(t,i){e=t.options,a.bubbleLegends[i]={},a.bubbleLegends[i].options=e})}),e(t.Series,"destroy",function(t){this.bubbleLegend.destroy()}),e(t.Chart,"render",function(t){var e=this.legend.bubbleLegends,a=!1;e&&i(e,function(t){t.hideOverlappingLabels(),t.autoCalculatedRanges&&(a=!0)}),a&&(this.legend.render(),this.reflow())})}(t),function(t){t.addEvent;var e=t.arrayMax,i=t.arrayMin,a=t.Axis,s=t.color,o=t.each,n=t.isNumber,r=t.noop,l=t.pick,h=t.pInt,p=t.Point,d=t.Series,c=t.seriesType,u=t.seriesTypes;t.stableSort;c("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var i=this.options.marker.fillOpacity,a=d.prototype.pointAttribs.call(this,t,e);return 1!==i&&(a.fill=s(a.fill).setOpacity(i).get("rgba")),a},getRadii:function(t,e,i,a){var s,o,r,l,h,p=this.zData,d=[],c=this.options,u="width"!==c.sizeBy,g=c.zThreshold,f=e-t;for(o=0,s=p.length;o<s;o++)l=p[o],c.sizeByAbsoluteValue&&null!==l&&(l=Math.abs(l-g),e=f=Math.max(e-g,Math.abs(t-g)),t=0),n(l)?l<t?h=i/2-1:(r=f>0?(l-t)/f:.5,u&&r>=0&&(r=Math.sqrt(r)),h=Math.ceil(i+r*(a-i))/2):h=null,d.push(h);this.radii=d},animate:function(t){!t&&this.points.length<this.options.animationLimit&&(o(this.points,function(t){var e,i=t.graphic;i&&i.width&&(e={x:i.x,y:i.y,width:i.width,height:i.height},i.attr({x:t.plotX,y:t.plotY,width:1,height:1}),i.animate(e,this.options.animation))},this),this.animate=null)},translate:function(){var e,i,a,s=this.data,o=this.radii;for(u.scatter.prototype.translate.call(this),e=s.length;e--;)i=s[e],a=o?o[e]:0,n(a)&&a>=this.minPxSize/2?(i.marker=t.extend(i.marker,{radius:a,width:2*a,height:2*a}),i.dlBox={x:i.plotX-a,y:i.plotY-a,width:2*a,height:2*a}):i.shapeArgs=i.plotY=i.dlBox=void 0},alignDataLabel:u.column.prototype.alignDataLabel,buildKDTree:r,applyZones:r},{haloPath:function(t){return p.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),a.prototype.beforePadding=function(){var a=this,s=this.len,r=this.chart,p=0,d=s,c=this.isXAxis,u=c?"xData":"yData",g=this.min,f={},b=Math.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,y=-Number.MAX_VALUE,x=this.max-g,v=s/x,M=[];o(this.series,function(s){var n,p=s.options;!s.bubblePadding||!s.visible&&r.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,M.push(s),c&&(o(["minSize","maxSize"],function(t){var e=p[t],i=/%$/.test(e);e=h(e),f[t]=i?b*e/100:e}),s.minPxSize=f.minSize,s.maxPxSize=Math.max(f.maxSize,f.minSize),(n=t.grep(s.zData,t.isNumber)).length&&(m=l(p.zMin,Math.min(m,Math.max(i(n),!1===p.displayNegative?p.zThreshold:-Number.MAX_VALUE))),y=l(p.zMax,Math.max(y,e(n))))))}),o(M,function(t){var e,i=t[u],s=i.length;if(c&&t.getRadii(m,y,t.minPxSize,t.maxPxSize),x>0)for(;s--;)n(i[s])&&a.dataMin<=i[s]&&i[s]<=a.dataMax&&(e=t.radii[s],p=Math.min((i[s]-g)*v-e,p),d=Math.max((i[s]-g)*v+e,d))}),M.length&&x>0&&!this.isLog&&(v*=(s+p-(d-=s))/s,o([["min","userMin",p],["max","userMax",d]],function(t){void 0===l(a.options[t[0]],a[t[1]])&&(a[t[0]]+=t[2]/v)}))}}(t),function(t){var e,i=t.each,a=t.pick,s=t.Pointer,o=t.Series,n=t.seriesTypes,r=t.wrap,l=o.prototype,h=s.prototype;if(!t.polarExtended){t.polarExtended=!0,l.searchPointByAngle=function(t){var e=this.chart,i=this.xAxis.pane.center,a=t.chartX-i[0]-e.plotLeft,s=t.chartY-i[1]-e.plotTop;return this.searchKDTree({clientX:180+Math.atan2(a,s)*(-180/Math.PI)})},l.getConnectors=function(t,e,i,a){var s,o,n,r,l,h,p,d,c,u,g,f,b,m,y,x,v,M,P,L,w,A=a?1:0;return o=(s=e>=0&&e<=t.length-1?e:e<0?t.length-1+e:0)-1<0?t.length-(1+A):s-1,n=s+1>t.length-1?A:s+1,r=t[o],l=t[n],h=r.plotX,p=r.plotY,d=l.plotX,c=l.plotY,b=(1.5*(u=t[s].plotX)+h)/2.5,m=(1.5*(g=t[s].plotY)+p)/2.5,y=(1.5*u+d)/2.5,x=(1.5*g+c)/2.5,v=Math.sqrt(Math.pow(b-u,2)+Math.pow(m-g,2)),M=Math.sqrt(Math.pow(y-u,2)+Math.pow(x-g,2)),P=Math.atan2(m-g,b-u),L=Math.atan2(x-g,y-u),w=Math.PI/2+(P+L)/2,Math.abs(P-w)>Math.PI/2&&(w-=Math.PI),b=u+Math.cos(w)*v,m=g+Math.sin(w)*v,f={rightContX:y=u+Math.cos(Math.PI+w)*M,rightContY:x=g+Math.sin(Math.PI+w)*M,leftContX:b,leftContY:m,plotX:u,plotY:g},i&&(f.prevPointCont=this.getConnectors(t,o,!1,a)),f},r(l,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy"),t.apply(this)}),l.toXY=function(t){var e,i,a=this.chart,s=t.plotX,o=t.plotY;t.rectPlotX=s,t.rectPlotY=o,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=e.x-a.plotLeft,t.plotY=t.polarPlotY=e.y-a.plotTop,this.kdByAngle?((i=(s/Math.PI*180+this.xAxis.pane.options.startAngle)%360)<0&&(i+=360),t.clientX=i):t.clientX=t.plotX},n.spline&&(r(n.spline.prototype,"getPointSpline",function(t,e,i,a){var s;return this.chart.polar?a?["C",(s=this.getConnectors(e,a,!0,this.connectEnds)).prevPointCont.rightContX,s.prevPointCont.rightContY,s.leftContX,s.leftContY,s.plotX,s.plotY]:["M",i.plotX,i.plotY]:t.call(this,e,i,a)}),n.areasplinerange&&(n.areasplinerange.prototype.getPointSpline=n.spline.prototype.getPointSpline)),t.addEvent(o,"afterTranslate",function(){var e,i,a=this.chart;if(a.polar){if(this.kdByAngle=a.tooltip&&a.tooltip.shared,!this.preventPostTranslate)for(i=(e=this.points).length;i--;)this.toXY(e[i]);this.hasClipCircleSetter||(this.hasClipCircleSetter=Boolean(t.addEvent(this,"afterRender",function(){var e;a.polar&&(e=this.yAxis.center,this.group.clip(a.renderer.clipCircle(e[0],e[1],e[2]/2)),this.setClip=t.noop)})))}},{order:2}),r(l,"getGraphPath",function(t,e){var a,s,o,n=this;if(this.chart.polar){for(e=e||this.points,a=0;a<e.length;a++)if(!e[a].isNull){s=a;break}!1!==this.options.connectEnds&&void 0!==s&&(this.connectEnds=!0,e.splice(e.length,0,e[s]),o=!0),i(e,function(t){void 0===t.polarPlotY&&n.toXY(t)})}var r=t.apply(this,[].slice.call(arguments,1));return o&&e.pop(),r});var p=function(t,e){var i,a=this.chart,s=this.options.animation,o=this.group,n=this.markerGroup,r=this.xAxis.center,l=a.plotLeft,h=a.plotTop;a.polar?a.renderer.isSVG&&(!0===s&&(s={}),e?(i={translateX:r[0]+l,translateY:r[1]+h,scaleX:.001,scaleY:.001},o.attr(i),n&&n.attr(i)):(i={translateX:l,translateY:h,scaleX:1,scaleY:1},o.animate(i,s),n&&n.animate(i,s),this.animate=null)):t.call(this,e)};r(l,"animate",p),n.column&&((e=n.column.prototype).polarArc=function(t,e,i,s){var o=this.xAxis.center,n=this.yAxis.len;return this.chart.renderer.symbols.arc(o[0],o[1],n-e,null,{start:i,end:s,innerR:n-a(t,n)})},r(e,"animate",p),r(e,"translate",function(t){var e,i,a,s,o=this.xAxis,n=o.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(s=(i=this.points).length;s--;)e=(a=i[s]).barX+n,a.shapeType="path",a.shapeArgs={d:this.polarArc(a.yBottom,a.plotY,e,e+a.pointWidth)},this.toXY(a),a.tooltipPos=[a.plotX,a.plotY],a.ttBelow=a.plotY>o.center[1]}),r(e,"alignDataLabel",function(t,e,i,a,s,o){if(this.chart.polar){var n,r,h=e.rectPlotX/Math.PI*180;null===a.align&&(n=h>20&&h<160?"left":h>200&&h<340?"right":"center",a.align=n),null===a.verticalAlign&&(r=h<45||h>315?"bottom":h>135&&h<225?"top":"middle",a.verticalAlign=r),l.alignDataLabel.call(this,e,i,a,s,o)}else t.call(this,e,i,a,s,o)})),r(h,"getCoordinates",function(t,e){var a=this.chart,s={xAxis:[],yAxis:[]};return a.polar?i(a.axes,function(t){var i=t.isXAxis,o=t.center,n=e.chartX-o[0]-a.plotLeft,r=e.chartY-o[1]-a.plotTop;s[i?"xAxis":"yAxis"].push({axis:t,value:t.translate(i?Math.PI-Math.atan2(n,r):Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),!0)})}):s=t.call(this,e),s}),t.SVGRenderer.prototype.clipCircle=function(e,i,a){var s,o=t.uniqueKey(),n=this.createElement("clipPath").attr({id:o}).add(this.defs);return(s=this.circle(e,i,a).add(n)).id=o,s.clipPath=n,s},t.addEvent(t.Chart,"getAxes",function(){this.pane||(this.pane=[]),i(t.splat(this.options.pane),function(e){new t.Pane(e,this)},this)}),t.addEvent(t.Chart,"afterDrawChartBox",function(){i(this.pane,function(t){t.render()})}),r(t.Chart.prototype,"get",function(e,i){return t.find(this.pane,function(t){return t.options.id===i})||e.call(this,i)})}}(t)});
